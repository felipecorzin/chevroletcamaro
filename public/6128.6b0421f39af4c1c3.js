"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6128],{6128:(P,v,r)=>{r.r(v),r.d(v,{AddEventPageModule:()=>_});var g=r(6895),u=r(433),o=r(5133),s=r(5017),m=r(3900),c=r(7846),p=r(4191),e=r(4650),h=r(9846),E=r(9426);function f(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-datetime",18,19),e.NdJ("ionChange",function(){e.CHM(t);const d=e.MAs(1),a=e.oxw();return e.KtG(a.evento.start=a.formatDate(d.value))}),e.qZA()}2&n&&e.Q6J("showDefaultButtons",!0)}function A(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-datetime",20,19),e.NdJ("ionChange",function(){e.CHM(t);const d=e.MAs(1),a=e.oxw();return e.KtG(a.evento.end=a.formatDate(d.value))}),e.qZA()}2&n&&e.Q6J("showDefaultButtons",!0)}const M=[{path:"",component:(()=>{class n{constructor(t,i,d,a,T,C){this.router=t,this.datepipe=i,this.route=d,this.navCtrl=a,this.uiService=T,this.eventService=C,this.evento={title:"",desc:"",allDay:!0,start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm")}}ngOnInit(){!this.router.url.includes("update-event")||this.route.params.pipe((0,m.w)(({id:t})=>this.eventService.getEvent(t))).subscribe(t=>{this.evento=t})}regresar(){this.navCtrl.navigateBack("tabs/events")}cancelStart(){this.modal.dismiss(null,"cancel")}confirmStart(){this.modal.dismiss("confirm")}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss("confirm")}formatDate(t){return(0,c.Z)((0,p.Z)(t),"EEEE, dd/MMMM/yyyy HH:mm")}formatDateEnd(t){return(0,c.Z)((0,p.Z)(t),"EEEE, dd/MMMM/yyyy HH:mm")}saveEvent(){0!==this.evento.title.trim().length&&(this.evento.id?this.eventService.updateEvent(this.evento.id,this.evento).subscribe(t=>{console.log(t),this.regresar(),this.uiService.presentToast("Updated event")}):this.eventService.createEvent(this.evento).subscribe(t=>{console.log(this.evento),this.regresar(),this.uiService.presentToast("Added event")},t=>{console.log(t)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.F0),e.Y36(g.uU),e.Y36(s.gz),e.Y36(o.SH),e.Y36(h.F),e.Y36(E.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-event"]],viewQuery:function(t,i){if(1&t&&e.Gf(o.ki,5),2&t){let d;e.iGM(d=e.CRH())&&(i.modal=d.first)}},decls:45,vars:7,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],[1,"ion-padding"],["lines","none"],["position","floating"],["tpye","text","clearInput","",3,"ngModel","ngModelChange"],["color","dark",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["fill","clear","slot","end","id","open-date-start"],["md","calendar-sharp","slot","icon-only","color","dark"],["trigger","open-date-start","show-backdrop","true"],["fill","clear","slot","end","id","open-date-end"],["trigger","open-date-end","show-backdrop","true"],["expand","block",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["color","dark","id","datetimeStart","locale","es-ES",3,"showDefaultButtons","ionChange"],["ionmodalDatetime",""],["color","dark","id","datetimeEnd","locale","es-ES",3,"showDefaultButtons","ionChange"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return i.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.TgZ(7,"ion-content",5)(8,"ion-list")(9,"ion-item",6)(10,"ion-label",7)(11,"b"),e._uU(12,"Title"),e.qZA()(),e.TgZ(13,"ion-input",8),e.NdJ("ngModelChange",function(a){return i.evento.title=a}),e.qZA()(),e.TgZ(14,"ion-item",6)(15,"ion-label",7)(16,"b"),e._uU(17,"Description"),e.qZA()(),e.TgZ(18,"ion-input",8),e.NdJ("ngModelChange",function(a){return i.evento.desc=a}),e.qZA()(),e.TgZ(19,"ion-item",6)(20,"ion-label")(21,"b"),e._uU(22,"AllDay?"),e.qZA()(),e.TgZ(23,"ion-toggle",9),e.NdJ("ngModelChange",function(a){return i.evento.allDay=a}),e.qZA()(),e.TgZ(24,"ion-item",6)(25,"ion-label")(26,"b"),e._uU(27,"Start:"),e.qZA()(),e.TgZ(28,"ion-input",10),e.NdJ("ngModelChange",function(a){return i.evento.start=a}),e.qZA(),e.TgZ(29,"ion-button",11),e._UZ(30,"ion-icon",12),e.qZA(),e.TgZ(31,"ion-popover",13),e.YNc(32,f,2,1,"ng-template"),e.qZA()(),e.TgZ(33,"ion-item",6)(34,"ion-label")(35,"b"),e._uU(36,"End:"),e.qZA()(),e.TgZ(37,"ion-input",10),e.NdJ("ngModelChange",function(a){return i.evento.end=a}),e.qZA(),e.TgZ(38,"ion-button",14),e._UZ(39,"ion-icon",12),e.qZA(),e.TgZ(40,"ion-popover",15),e.YNc(41,A,2,1,"ng-template"),e.qZA()(),e.TgZ(42,"ion-button",16),e.NdJ("tap",function(){return i.saveEvent()}),e._uU(43),e._UZ(44,"ion-icon",17),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",i.evento.id?"UpdateEvent":"AddEvent"," "),e.xp6(7),e.Q6J("ngModel",i.evento.title),e.xp6(5),e.Q6J("ngModel",i.evento.desc),e.xp6(5),e.Q6J("ngModel",i.evento.allDay),e.xp6(5),e.Q6J("ngModel",i.evento.start),e.xp6(9),e.Q6J("ngModel",i.evento.end),e.xp6(6),e.hij(" ",i.evento.id?"UpdateEvent":"AddEvent"," "))},dependencies:[u.JJ,u.On,o.YG,o.Sm,o.W2,o.x4,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.wd,o.ho,o.sr,o.d8,o.w,o.QI,o.j9]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(M),s.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[g.uU],imports:[g.ez,u.u5,o.Pc,Z]}),n})()}}]);