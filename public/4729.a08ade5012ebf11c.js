"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4729],{4729:(N,_,l)=>{l.r(_),l.d(_,{EventsPageModule:()=>Y});var d=l(6895),p=l(433),o=l(5133),m=l(5017),g=l(655),u=l(7846),v=l(4191),h=l(5819),f=l(4468),Z=l(8344),t=l(4650),E=l(3071),C=l(9846),M=l(9426);function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-chip",12),t.NdJ("tap",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.openAccount(a))}),t.TgZ(1,"ion-avatar"),t._UZ(2,"ion-img",13),t.qZA(),t.TgZ(3,"ion-label",14)(4,"b"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"b"),t._uU(8),t.ALo(9,"date"),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.s9C("src",e.avatar),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(t.xi3(9,3,e.created,"short"))}}function T(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item-options",15)(2,"ion-item-option",16),t.NdJ("tap",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteEvent(a.id))}),t._UZ(3,"ion-icon",17),t.qZA()(),t.TgZ(4,"ion-item",18)(5,"ion-thumbnail",19),t._UZ(6,"ion-img",20),t.qZA(),t.TgZ(7,"ion-label",21)(8,"h2")(9,"b"),t._uU(10),t.qZA()(),t.TgZ(11,"h3")(12,"b"),t._uU(13),t.qZA()()()(),t.TgZ(14,"ion-item-options",2)(15,"ion-item-option",22),t.NdJ("tap",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.detailEvent(a))}),t._UZ(16,"ion-icon",23),t.qZA(),t.TgZ(17,"ion-item-option",24),t.NdJ("tap",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.updateEvent(a.id))}),t._UZ(18,"ion-icon",25),t.qZA(),t.TgZ(19,"ion-item-option",26),t.NdJ("tap",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.calendar())}),t._UZ(20,"ion-icon",27),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(10),t.Oqu(e.title),t.xp6(3),t.Oqu(e.desc)}}function b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-datetime",40,41),t.NdJ("ionChange",function(){t.CHM(e);const i=t.MAs(1),a=t.oxw(2);return t.KtG(a.evento.start=a.formatDate(i.value))}),t.qZA()}2&n&&t.Q6J("showDefaultButtons",!0)}function A(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-datetime",42,41),t.NdJ("ionChange",function(){t.CHM(e);const i=t.MAs(1),a=t.oxw(2);return t.KtG(a.evento.end=a.formatDate(i.value))}),t.qZA()}2&n&&t.Q6J("showDefaultButtons",!0)}function y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",19)(3,"ion-button",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancel())}),t._uU(4,"Cancel"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"AddEvent"),t.qZA(),t.TgZ(7,"ion-buttons",2)(8,"ion-button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.confirm())}),t._uU(9,"Confirm"),t.qZA()()()(),t.TgZ(10,"ion-content",6)(11,"ion-list")(12,"ion-item",30)(13,"ion-label",31)(14,"b"),t._uU(15,"Title"),t.qZA()(),t.TgZ(16,"ion-input",32),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.evento.title=i)}),t.qZA()(),t.TgZ(17,"ion-item",30)(18,"ion-label",31)(19,"b"),t._uU(20,"Description"),t.qZA()(),t.TgZ(21,"ion-input",32),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.evento.desc=i)}),t.qZA()(),t.TgZ(22,"ion-item",30)(23,"ion-label")(24,"b"),t._uU(25,"AllDay?"),t.qZA()(),t.TgZ(26,"ion-toggle",33),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.evento.allDay=i)}),t.qZA()(),t.TgZ(27,"ion-item",30)(28,"ion-label")(29,"b"),t._uU(30,"Start:"),t.qZA()(),t.TgZ(31,"ion-input",34),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.evento.start=i)}),t.qZA(),t.TgZ(32,"ion-button",35),t._UZ(33,"ion-icon",36),t.qZA(),t.TgZ(34,"ion-popover",37),t.YNc(35,b,2,1,"ng-template"),t.qZA()(),t.TgZ(36,"ion-item",30)(37,"ion-label")(38,"b"),t._uU(39,"End:"),t.qZA()(),t.TgZ(40,"ion-input",34),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.evento.end=i)}),t.qZA(),t.TgZ(41,"ion-button",38),t._UZ(42,"ion-icon",36),t.qZA(),t.TgZ(43,"ion-popover",39),t.YNc(44,A,2,1,"ng-template"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("strong",!0),t.xp6(8),t.Q6J("ngModel",e.evento.title),t.xp6(5),t.Q6J("ngModel",e.evento.desc),t.xp6(5),t.Q6J("ngModel",e.evento.allDay),t.xp6(5),t.Q6J("ngModel",e.evento.start),t.xp6(9),t.Q6J("ngModel",e.evento.end)}}const P=[{path:"",component:(()=>{class n{constructor(e,s,i,a,c,H,q,w,D,G){this.router=e,this.datepipe=s,this.cd=i,this.navCtrl=a,this.alertCtrl=c,this.modalCtrl=H,this.userService=q,this.uiService=w,this.eventService=D,this.popoverCtrl=G,this.evento={title:"",desc:"",allDay:!0,start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm")}}ngOnInit(){this.loadUsers(),this.loadEvents()}menu(e){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.popoverCtrl.create({mode:"md",event:e,backdropDismiss:!0,component:h.M})).present()})}loadUsers(){this.userService.getUsers().subscribe(e=>{console.log(e),this.usuarios=e,this.cd.detectChanges()})}openAccount(e){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",backdropDismiss:!0,cssClass:"modal-accountDetail",componentProps:{user:e},component:f.o})).present()})}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.eventService.createEvent(this.evento).subscribe(e=>{console.log(this.evento),this.loadEvents(),this.modal.dismiss("confirm"),this.uiService.presentToast("Added event")},e=>{console.log(e)})}formatDate(e){return(0,u.Z)((0,v.Z)(e),"EEEE, dd/MMMM/yyyy HH:mm")}formatDateEnd(e){return(0,u.Z)((0,v.Z)(e),"EEEE, dd/MMMM/yyyy HH:mm")}updateEvent(e){this.navCtrl.navigateForward(`tabs/events/update-event/${e}`)}calendar(){this.navCtrl.navigateForward("tabs/events/calendar")}loadEvents(){this.eventService.getEvents().subscribe(e=>{this.events=e,console.log(e)},e=>{console.log(e)})}detailEvent(e){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",breakpoints:[0,.5,.8],initialBreakpoint:.8,componentProps:{event:e},component:Z.D})).present()})}deleteEvent(e){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Warning!!!",message:"You want to delete the event??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:i=>{console.log("Confirmado Cancelar: blah")}},{text:"OK",handler:()=>{console.log("Confirmado Aceptar"),this.eventService.deleteEvent(e).subscribe(i=>{this.loadEvents(),this.uiService.presentToast("Deleted event")},i=>{console.log(i)})}}]})).present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.F0),t.Y36(d.uU),t.Y36(t.sBO),t.Y36(o.SH),t.Y36(o.Br),t.Y36(o.IN),t.Y36(E.K),t.Y36(C.F),t.Y36(M.P),t.Y36(o.Dh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-events"]],viewQuery:function(e,s){if(1&e&&t.Gf(o.ki,5),2&e){let i;t.iGM(i=t.CRH())&&(s.modal=i.first)}},decls:18,vars:2,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],[3,"tap",4,"ngFor","ngForOf"],["fill","clear",3,"tap"],["md","ellipsis-vertical-sharp","slot","icon-only","color","light"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","open-modal"],["md","pencil-sharp","color","light"],["trigger","open-modal"],[3,"tap"],[3,"src"],["color","light"],["side","start"],["color","danger",3,"tap"],["md","trash-sharp","slot","icon-only","color","light"],["button","","lines","none"],["slot","start"],["src","../../../assets/img/notification.png"],[1,"ion-text-capitalize","ion-text-wrap"],["color","primary",3,"tap"],["md","eye-sharp","slot","icon-only","color","light"],["color","tertiary",3,"tap"],["md","create-sharp","slot","icon-only","color","light"],["color","secondary",3,"tap"],["md","calendar-sharp","slot","icon-only","color","light"],[3,"click"],[3,"strong","click"],["lines","none"],["position","floating"],["tpye","text","clearInput","",3,"ngModel","ngModelChange"],["color","dark",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["fill","clear","slot","end","id","open-date-start"],["md","calendar-sharp","slot","icon-only","color","dark"],["trigger","open-date-start","show-backdrop","true"],["fill","clear","slot","end","id","open-date-end"],["trigger","open-date-end","show-backdrop","true"],["color","dark","id","datetimeStart","locale","es-ES",3,"showDefaultButtons","ionChange"],["ionmodalDatetime",""],["color","dark","id","datetimeEnd","locale","es-ES",3,"showDefaultButtons","ionChange"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3," Events "),t.qZA(),t.TgZ(4,"ion-buttons",2),t.YNc(5,x,10,6,"ion-chip",3),t.TgZ(6,"ion-button",4),t.NdJ("tap",function(a){return s.menu(a)}),t._UZ(7,"ion-icon",5),t.qZA()()()(),t.TgZ(8,"ion-content",6)(9,"ion-list"),t.YNc(10,T,21,2,"ion-item-sliding",7),t.qZA(),t.TgZ(11,"ion-fab",8)(12,"ion-fab-button",9),t._UZ(13,"ion-icon",10),t.TgZ(14,"span"),t._uU(15,"AddEvent"),t.qZA()()(),t.TgZ(16,"ion-modal",11),t.YNc(17,y,45,6,"ng-template"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",s.usuarios),t.xp6(5),t.Q6J("ngForOf",s.events))},dependencies:[d.sg,p.JJ,p.On,o.BJ,o.YG,o.Sm,o.hM,o.W2,o.x4,o.IJ,o.W4,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.u8,o.IK,o.td,o.Q$,o.q_,o.Bs,o.wd,o.ho,o.sr,o.ki,o.d8,o.w,o.QI,o.j9,d.uU],styles:["ion-fab-button[_ngcontent-%COMP%]{width:140px;height:48px;--background: var(--ion-color-primary);--border-radius: 20px;--box-shadow: 5px 12px 30px -8px rgba(0,0,0,.53)}ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-fab-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#fff}ion-chip[_ngcontent-%COMP%]{--background: #000;--color: #fff;font-weight:700}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(P),m.Bz]}),n})();var U=l(5642);let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[d.uU],imports:[d.ez,p.u5,o.Pc,J,U.K]}),n})()}}]);