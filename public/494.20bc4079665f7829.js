"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[494],{494:(F,g,l)=>{l.r(g),l.d(g,{CalendarPageModule:()=>N});var c=l(6895),v=l(433),o=l(5133),w=l(5017),h=l(655),m=l(4004),_=l(7579),s=l(1585),u=l(8344),C=l(3499),p=l(2641),e=l(4650),f=l(9846),D=l(7556),y=l(9426);function T(t,d){1&t&&(e.TgZ(0,"div",20),e._UZ(1,"ion-icon",21)(2,"br"),e._uU(3," Loading events... "),e.qZA())}function Z(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"mwl-calendar-month-view",25),e.NdJ("dayClicked",function(i){e.CHM(a);const r=e.oxw(2);return e.KtG(r.dayClicked(i.day))})("eventClicked",function(i){e.CHM(a);const r=e.oxw(2);return e.KtG(r.handleEvent("Clicked",i.event))}),e.qZA()}if(2&t){const a=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",a)("refresh",n.refresh)("activeDayIsOpen",n.activeDayIsOpen)}}function M(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"mwl-calendar-week-view",26),e.NdJ("eventClicked",function(i){e.CHM(a);const r=e.oxw(2);return e.KtG(r.handleEvent("Clicked",i.event))}),e.qZA()}if(2&t){const a=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",a)("refresh",n.refresh)}}function P(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"mwl-calendar-day-view",26),e.NdJ("eventClicked",function(i){e.CHM(a);const r=e.oxw(2);return e.KtG(r.handleEvent("Clicked",i.event))}),e.qZA()}if(2&t){const a=e.oxw().$implicit,n=e.oxw();e.Q6J("viewDate",n.viewDate)("events",a)("refresh",n.refresh)}}function k(t,d){if(1&t&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,Z,1,4,"mwl-calendar-month-view",23),e.YNc(3,M,1,3,"mwl-calendar-week-view",24),e.YNc(4,P,1,3,"mwl-calendar-day-view",24),e.qZA()()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngSwitch",a.view),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Day)}}const J={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}},b=[{path:"",component:(()=>{class t{constructor(a,n,i,r,V,O,I,x){this.datepipe=a,this.router=n,this.modalCtrl=i,this.alertCtrl=r,this.navCtrl=V,this.uiService=O,this.authService=I,this.eventService=x,this.event={id:"",title:"",desc:"",start:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),end:this.datepipe.transform(new Date,"EEEE, dd/MMMM/YYYY HH:mm"),allDay:!1},this.calendarMes="month",this.viewDate=new Date,this.refresh=new _.x,this.activeDayIsOpen=!1,this.CalendarView=s.wr,this.view=s.wr.Month}ngOnInit(){this.loadCalendarEvents()}doRefresh(a){setTimeout(()=>{a.target.complete()},2e3)}regresar(){this.navCtrl.navigateBack("tabs/events")}setView(a){this.view=a}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}loadCalendarEvents(){this.events$=this.eventService.getEvents().pipe((0,m.U)(a=>a.map(n=>({title:n.title,description:n.desc,start:new Date(n.start),end:new Date(n.end),color:J.yellow,allDay:n.allDay,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{event:n}}))))}dayClicked({date:a,events:n}){(0,C.Z)(a,this.viewDate)&&(this.activeDayIsOpen=!((0,p.Z)(this.viewDate,a)&&!0===this.activeDayIsOpen||0===n.length),this.viewDate=a)}handleEvent(a,n){return(0,h.mG)(this,void 0,void 0,function*(){const i=yield this.modalCtrl.create({mode:"md",componentProps:{event:n,action:a},breakpoints:[0,.5,.8],initialBreakpoint:.8,component:u.D});console.log(n),yield i.present()})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(c.uU),e.Y36(w.F0),e.Y36(o.IN),e.Y36(o.Br),e.Y36(o.SH),e.Y36(f.F),e.Y36(D.e),e.Y36(y.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-calendar"]],decls:37,vars:21,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"tap"],["slot","icon-only","md","arrow-back-sharp","color","light"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","bubbles"],["size","2"],["fill","clear","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["name","arrow-back","slot","icon-only","color","light"],["size","8"],["fill","outline","expand","block","color","light","mwlCalendarToday","",1,"miBoton",3,"viewDate","viewDateChange"],["fill","clear","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],["md","arrow-forward-sharp","slot","icon-only","color","light"],[3,"ngModel","ngModelChange"],["value","month",3,"click"],["value","week",3,"click"],["value","day",3,"click"],["loading",""],[4,"ngIf","ngIfElse"],[1,"ion-text-center"],["md","refresh-sharp","color","primary"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(a,n){if(1&a&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.NdJ("tap",function(){return n.regresar()}),e._UZ(4,"ion-icon",4),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6," Calendar "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",5),e.NdJ("ionRefresh",function(r){return n.doRefresh(r)}),e._UZ(9,"ion-refresher-content",6),e.qZA(),e.TgZ(10,"ion-toolbar",1)(11,"ion-row")(12,"ion-col",7)(13,"ion-button",8),e.NdJ("viewDateChange",function(r){return n.viewDate=r})("viewDateChange",function(){return n.closeOpenMonthViewDay()}),e._UZ(14,"ion-icon",9),e.qZA()(),e.TgZ(15,"ion-col",10)(16,"ion-button",11),e.NdJ("viewDateChange",function(r){return n.viewDate=r}),e._uU(17),e.ALo(18,"calendarDate"),e.qZA()(),e.TgZ(19,"ion-col",7)(20,"ion-button",12),e.NdJ("viewDateChange",function(r){return n.viewDate=r})("viewDateChange",function(){return n.closeOpenMonthViewDay()}),e._UZ(21,"ion-icon",13),e.qZA()()()(),e.TgZ(22,"ion-toolbar",1)(23,"ion-segment",14),e.NdJ("ngModelChange",function(r){return n.calendarMes=r}),e.TgZ(24,"ion-segment-button",15),e.NdJ("click",function(){return n.setView(n.CalendarView.Month)}),e.TgZ(25,"ion-label"),e._uU(26,"Month"),e.qZA()(),e.TgZ(27,"ion-segment-button",16),e.NdJ("click",function(){return n.setView(n.CalendarView.Week)}),e.TgZ(28,"ion-label"),e._uU(29,"Week"),e.qZA()(),e.TgZ(30,"ion-segment-button",17),e.NdJ("click",function(){return n.setView(n.CalendarView.Day)}),e.TgZ(31,"ion-label"),e._uU(32,"Day"),e.qZA()()()(),e.YNc(33,T,4,0,"ng-template",null,18,e.W1O),e.YNc(35,k,5,4,"div",19),e.ALo(36,"async"),e.qZA()),2&a){const i=e.MAs(34);e.xp6(13),e.Q6J("view",n.view)("viewDate",n.viewDate),e.xp6(3),e.Q6J("viewDate",n.viewDate),e.xp6(1),e.hij(" ",e.Dn7(18,15,n.viewDate,n.view+"ViewTitle","en")," "),e.xp6(3),e.Q6J("view",n.view)("viewDate",n.viewDate),e.xp6(3),e.Q6J("ngModel",n.calendarMes),e.xp6(1),e.ekj("active",n.view===n.CalendarView.Month),e.xp6(3),e.ekj("active",n.view===n.CalendarView.Week),e.xp6(3),e.ekj("active",n.view===n.CalendarView.Day),e.xp6(5),e.Q6J("ngIf",e.lcZ(36,19,n.events$))("ngIfElse",i)}},dependencies:[c.O5,c.RF,c.n9,v.JJ,v.On,o.YG,o.Sm,o.wI,o.W2,o.Gu,o.gu,o.Q$,o.nJ,o.Wo,o.Nd,o.cJ,o.GO,o.wd,o.sr,o.QI,s.YX,s.MG,s.nA,s.GH,s.TK,s.Se,c.Ov,s.vk],styles:["ion-label[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;text-transform:none!important;--color: var(--ion-color-light)}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[w.Bz.forChild(b),w.Bz]}),t})();var E=l(5503),Y=l(5642),S=l(789);let N=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[c.uU],imports:[c.ez,v.u5,o.Pc,A,E.D,Y.K,s._8.forRoot({provide:s._A,useFactory:S.x})]}),t})()}}]);