"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9341],{9341:(v,h,e)=>{e.r(h),e.d(h,{RoomListPageModule:()=>R});var u=e(6895),m=e(433),i=e(5133),g=e(5017),c=e(655),o=e(4650),s=e(9846),d=e(9014);function f(n,l){if(1&n){const t=o.EpF();o.TgZ(0,"ion-item",8),o.NdJ("tap",function(){const r=o.CHM(t),p=r.$implicit,x=r.index,M=o.oxw();return o.KtG(M.openChat(p,x))}),o.TgZ(1,"ion-thumbnail",9),o._UZ(2,"img",10),o.qZA(),o.TgZ(3,"ion-label",11)(4,"h2")(5,"b"),o._uU(6),o.qZA()()()()}if(2&n){const t=l.$implicit;o.xp6(6),o.Oqu(t.roomname)}}function _(n,l){if(1&n){const t=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",9)(3,"ion-button",12),o.NdJ("tap",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.cancel())}),o._UZ(4,"ion-icon",13),o.qZA()(),o.TgZ(5,"ion-title"),o._uU(6,"AddInfoCar"),o.qZA(),o.TgZ(7,"ion-buttons",2)(8,"ion-button",14),o.NdJ("tap",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.confirm())}),o._uU(9,"Confirm"),o.qZA()()()(),o.TgZ(10,"ion-content",15)(11,"ion-list")(12,"ion-item",16)(13,"ion-label",17),o._uU(14,"Room"),o.qZA(),o.TgZ(15,"ion-input",18),o.NdJ("ngModelChange",function(r){o.CHM(t);const p=o.oxw();return o.KtG(p.room.roomname=r)}),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(8),o.Q6J("strong",!0),o.xp6(7),o.Q6J("ngModel",t.room.roomname)}}const C=[{path:"",component:(()=>{class n{constructor(t,a,r,p){this.router=t,this.modalCtrl=a,this.uiService=r,this.chatService=p,this.nickname="",this.room={roomname:""},this.currentIndex=-1}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.loadRooms(),this.nickname=localStorage.getItem("nickname")})}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.chatService.createRoom(this.room).subscribe(()=>{this.loadRooms(),this.cancel(),this.uiService.presentToast("Added room")})}loadRooms(){this.chatService.getRooms().subscribe(t=>{this.rooms=t,console.log(t)},t=>{console.log(t)})}openChat(t,a){this.room=t,this.currentIndex=a,this.router.navigate(["/tabs/chat/chat-room",t.roomname])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(g.F0),o.Y36(i.IN),o.Y36(s.F),o.Y36(d.a))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-room-list"]],viewQuery:function(t,a){if(1&t&&o.Gf(i.ki,5),2&t){let r;o.iGM(r=o.CRH())&&(a.modal=r.first)}},decls:17,vars:2,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],["button","","detail","","lines","full","detail-icon","arrow-forward-sharp",3,"tap",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["id","open-modal-add-room"],["md","pencil-sharp","color","light"],["trigger","open-modal-add-room"],["button","","detail","","lines","full","detail-icon","arrow-forward-sharp",3,"tap"],["slot","start"],["src","../../../assets/img/logoChat.png"],[1,"ion-text-capitalize","ion-text-wrap"],[1,"miBoton",3,"tap"],["md","arrow-back-sharp","slot","icon-only","color","light"],[1,"miBoton",3,"strong","tap"],[1,"ion-padding"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"]],template:function(t,a){1&t&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o._uU(3," Rooms "),o.qZA(),o.TgZ(4,"ion-buttons",2)(5,"ion-chip"),o._uU(6),o.qZA()()()(),o.TgZ(7,"ion-content")(8,"ion-list"),o.YNc(9,f,7,1,"ion-item",3),o.qZA(),o.TgZ(10,"ion-fab",4)(11,"ion-fab-button",5),o._UZ(12,"ion-icon",6),o.TgZ(13,"span"),o._uU(14,"addRoom"),o.qZA()()(),o.TgZ(15,"ion-modal",7),o.YNc(16,_,16,2,"ng-template"),o.qZA()()),2&t&&(o.xp6(6),o.hij(" ",a.nickname," "),o.xp6(3),o.Q6J("ngForOf",a.rooms))},dependencies:[u.sg,m.JJ,m.On,i.YG,i.Sm,i.hM,i.W2,i.IJ,i.W4,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.Bs,i.wd,i.sr,i.ki,i.j9],styles:["ion-fab-button[_ngcontent-%COMP%]{width:140px;height:48px;--background: var(--ion-color-primary);--border-radius: 20px;--box-shadow: 5px 12px 30px -8px rgba(0,0,0,.53)}ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-fab-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}ion-fab-button[_ngcontent-%COMP%]::part(native){color:var(--ion-color-primary);font-weight:500;font-size:20px}ion-item[_ngcontent-%COMP%]{--detail-icon-font-size: 1.5em;--detail-icon-opacity: 1;--detail-icon-color: var(--ion-color-dark)}ion-chip[_ngcontent-%COMP%]{font-weight:700;--background: var(--ion-color-dark);--color: var(--ion-color-light)}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.Bz.forChild(C),g.Bz]}),n})();var P=e(5642);let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[u.ez,m.u5,i.Pc,b,P.K]}),n})()},9846:(v,h,e)=>{e.d(h,{F:()=>g});var u=e(655),m=e(4650),i=e(5133);let g=(()=>{class c{constructor(s,d){this.alertController=s,this.toastController=d}alertaInformativaLogin(s,d,f){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:s,subHeader:d,message:f,buttons:["OK"]})).present()})}alertaInformativa(s){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:s,buttons:["OK"]})).present()})}presentToast(s){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:s,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return c.\u0275fac=function(s){return new(s||c)(m.LFG(i.Br),m.LFG(i.yF))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);