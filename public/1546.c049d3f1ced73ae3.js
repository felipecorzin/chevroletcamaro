"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1546],{1546:(Z,d,s)=>{s.r(d),s.d(d,{AccountUpdatePageModule:()=>f});var p=s(6895),l=s(433),a=s(5133),r=s(5017),h=s(655),c=s(6388),e=s(4650),m=s(9846),U=s(3071);function _(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("tap",function(){e.CHM(t);const g=e.oxw();return e.KtG(g.selectPhoto())}),e.qZA()}}function A(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"ion-img",17)(1,"ion-input",9),e.NdJ("ngModelChange",function(g){e.CHM(t);const i=e.oxw();return e.KtG(i.user.avatar=g)}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("src",t.user.avatar),e.xp6(1),e.Q6J("ngModel",t.user.avatar)}}const v=[{path:"",component:(()=>{class n{constructor(t,o,g,i){this.route=t,this.navCtrl=o,this.uiService=g,this.userService=i,this.user={id:"",avatar:"",name:"",phone:"",lat:0,lng:0,age:0,uso:0,active:!0},this.shouldAcive=!0,this.shouldGeolocation=!1}ngOnInit(){this.loadUser(this.route.snapshot.params.id)}regresar(){this.navCtrl.navigateBack("/tabs/account")}loadUser(t){this.userService.getUser(t).subscribe(o=>{this.user=o,console.log(o)})}selectPhoto(){return(0,h.mG)(this,void 0,void 0,function*(){const t=yield c.V1.getPhoto({quality:75,width:400,height:400,allowEditing:!1,source:c.oK.Prompt,resultType:c.dk.DataUrl});this.isSelected=!0,this.user.avatar=t.dataUrl})}getLocation(){this.shouldGeolocation&&navigator.geolocation.getCurrentPosition(t=>{this.user.lat=t.coords.latitude,this.user.lng=t.coords.longitude,console.log(this.user.lat,this.user.lng)})}accountUpdate(){this.userService.updateUser(this.user.id,this.user).subscribe(t=>{console.log(t),this.regresar(),this.uiService.presentToast("Updated user")},t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.gz),e.Y36(a.SH),e.Y36(m.F),e.Y36(U.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-update"]],decls:44,vars:8,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["color","light","defaultHref","/tabs/account"],["src","../../../assets/img/logo_small.png",1,"logo-header"],["id","img",3,"tap",4,"ngIf"],["id","avatar",3,"src",4,"ngIf"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],["color","primary",3,"ngModel","ngModelChange"],["expand","block","shape","round",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","img",3,"tap"],["id","avatar",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._UZ(5,"img",4),e._uU(6," AccountUpdate "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-list"),e.YNc(9,_,1,0,"div",5),e.YNc(10,A,2,2,"ion-img",6),e.TgZ(11,"ion-item",7)(12,"ion-label",8)(13,"b"),e._uU(14,"Name"),e.qZA()(),e.TgZ(15,"ion-input",9),e.NdJ("ngModelChange",function(i){return o.user.name=i}),e.qZA()(),e.TgZ(16,"ion-item",7)(17,"ion-label",8)(18,"b"),e._uU(19,"Phone"),e.qZA()(),e.TgZ(20,"ion-input",10),e.NdJ("ngModelChange",function(i){return o.user.phone=i}),e.qZA()(),e.TgZ(21,"ion-item",7)(22,"ion-label",8)(23,"b"),e._uU(24,"Age"),e.qZA()(),e.TgZ(25,"ion-input",11),e.NdJ("ngModelChange",function(i){return o.user.age=i}),e.qZA()(),e.TgZ(26,"ion-item",7)(27,"ion-label",8)(28,"b"),e._uU(29,"Years of Use"),e.qZA()(),e.TgZ(30,"ion-input",11),e.NdJ("ngModelChange",function(i){return o.user.uso=i}),e.qZA()(),e.TgZ(31,"ion-item",7)(32,"ion-label")(33,"b"),e._uU(34,"Location User"),e.qZA()(),e.TgZ(35,"ion-toggle",12),e.NdJ("ngModelChange",function(i){return o.shouldGeolocation=i})("ionChange",function(){return o.getLocation()}),e.qZA()(),e.TgZ(36,"ion-item",7)(37,"ion-label")(38,"b"),e._uU(39,"Active?"),e.qZA()(),e.TgZ(40,"ion-toggle",13),e.NdJ("ngModelChange",function(i){return o.user.active=i}),e.qZA()()(),e.TgZ(41,"ion-button",14),e.NdJ("tap",function(){return o.accountUpdate()}),e._uU(42," AccountUpdate "),e._UZ(43,"ion-icon",15),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngIf",!o.isSelected),e.xp6(1),e.Q6J("ngIf",o.isSelected),e.xp6(5),e.Q6J("ngModel",o.user.name),e.xp6(5),e.Q6J("ngModel",o.user.phone),e.xp6(5),e.Q6J("ngModel",o.user.age),e.xp6(5),e.Q6J("ngModel",o.user.uso),e.xp6(5),e.Q6J("ngModel",o.shouldGeolocation),e.xp6(5),e.Q6J("ngModel",o.user.active))},dependencies:[p.O5,l.JJ,l.On,a.oU,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Xz,a.pK,a.Ie,a.Q$,a.q_,a.wd,a.ho,a.sr,a.w,a.as,a.j9,a.cs],styles:["#img[_ngcontent-%COMP%]{background:url(avatar.a873f6944a1bc18a.png);width:100px;height:100px;margin:0 auto}#avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.Bz.forChild(v),r.Bz]}),n})(),f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,l.u5,a.Pc,M]}),n})()}}]);