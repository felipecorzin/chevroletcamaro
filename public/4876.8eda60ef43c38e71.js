"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4876],{6715:(b,g,l)=>{l.d(g,{k$:()=>f,y$:()=>c});var c=(()=>{return(p=c||(c={})).Heavy="HEAVY",p.Medium="MEDIUM",p.Light="LIGHT",c;var p})(),f=(()=>{return(p=f||(f={})).Success="SUCCESS",p.Warning="WARNING",p.Error="ERROR",f;var p})()},4876:(b,g,l)=>{l.r(g),l.d(g,{InfoCarPageModule:()=>z});var c=l(6895),f=l(433),o=l(5133),u=l(5017),p=l(655),x=l(5819),A=l(4468),t=l(4650),y=l(9846),w=l(3071),T=l(2332),Z=l(7423),C=l(6715);const v=(0,Z.fo)("Haptics",{web:()=>l.e(5001).then(l.bind(l,5001)).then(i=>new i.HapticsWeb)});var _=l(8879),I=l(9485);const P=["swiper"];function H(i,s){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"img",14),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.s9C("src",e.infoCar.img,t.LSH)}}_.ZP.use([_.LG]);let M=(()=>{class i{constructor(e){this.modalCtrl=e,this.config={zoom:{maxRatio:10,minRatio:.2}}}regresar(){this.modalCtrl.dismiss()}ngAfterContentChecked(){this.swiper&&this.swiper.updateSwiper({})}zoom(e){const n=this.swiper.swiperRef.zoom;e?n.in():n.out()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(o.IN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail-info-car"]],viewQuery:function(e,n){if(1&e&&t.Gf(P,5),2&e){let a;t.iGM(a=t.CRH())&&(n.swiper=a.first)}},inputs:{infoCar:"infoCar"},decls:29,vars:3,consts:[["color","dark",3,"tap"],["md","arrow-back-sharp","color","light"],["color","light"],[1,"ion-text-wrap"],[1,"infoCarImg"],[3,"config"],["swiper",""],["swiperSlide",""],["size","4",1,"ion-text-center"],["fill","clear","color","light",1,"miBoton",3,"tap"],["md","remove-sharp","slot","start"],["md","close-sharp","slot","start"],["md","add-sharp","slot","start"],[1,"swiper-zoom-container"],[3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div")(2,"ion-chip",0),t.NdJ("tap",function(){return n.regresar()}),t._UZ(3,"ion-icon",1),t.TgZ(4,"ion-label",2)(5,"b"),t._uU(6),t.qZA()()()(),t.TgZ(7,"ion-text",3)(8,"p")(9,"b"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",4)(12,"swiper",5,6),t.YNc(14,H,2,1,"ng-template",7),t.qZA()()(),t.TgZ(15,"ion-footer")(16,"ion-row")(17,"ion-col",8)(18,"ion-button",9),t.NdJ("tap",function(){return n.zoom(!1)}),t._UZ(19,"ion-icon",10),t._uU(20," Out "),t.qZA()(),t.TgZ(21,"ion-col",8)(22,"ion-button",9),t.NdJ("tap",function(){return n.regresar()}),t._UZ(23,"ion-icon",11),t._uU(24," Close "),t.qZA()(),t.TgZ(25,"ion-col",8)(26,"ion-button",9),t.NdJ("tap",function(){return n.zoom(!0)}),t._UZ(27,"ion-icon",12),t._uU(28," In "),t.qZA()()()()),2&e&&(t.xp6(6),t.Oqu(n.infoCar.title),t.xp6(4),t.Oqu(n.infoCar.description),t.xp6(2),t.Q6J("config",n.config))},dependencies:[o.YG,o.hM,o.wI,o.fr,o.gu,o.Q$,o.Nd,o.yW,I.nF,I.YC],styles:[".swiper{width:100%;height:300px}.swiper-slide{display:flex;flex-direction:column;align-items:center;justify-content:center}.infoCarImg{padding-left:1em;padding-right:1em}\n"],encapsulation:2}),i})();const S=["wrapper"],F=["trash"],O=["pencil"],m=70;let U=(()=>{class i{constructor(e,n,a,r,d){this.router=e,this.navCtrl=n,this.modalCtrl=a,this.gestureCtrl=r,this.animationCtrl=d,this.delete=new t.vpe,this.bigIcon=!1}ngAfterViewInit(){this.setupIconAnimations();const e=this.item.nativeElement.style,n=window.innerWidth;this.deleteAnimation=this.animationCtrl.create("delete-animation").addElement(this.item.nativeElement).duration(300).easing("ease-out").fromTo("height","89px","0"),this.gestureCtrl.create({el:this.item.nativeElement,gestureName:"move",threshold:0,onStart:r=>{e.transition=""},onMove:r=>{this.item.nativeElement.classList.add("rounded"),r.deltaX>0?(this.wrapper.nativeElement.style["background-color"]="var(--ion-color-danger)",e.transform=`translate3d(${r.deltaX}px, 0, 0)`):r.deltaX<0&&(this.wrapper.nativeElement.style["background-color"]="var(--ion-color-primary)",e.transform=`translate3d(${r.deltaX}px, 0, 0)`),r.deltaX>m&&!this.bigIcon?this.animateTrash(!0):r.deltaX>0&&r.deltaX<m&&this.bigIcon&&this.animateTrash(!1),r.deltaX<-m&&!this.bigIcon?this.animatePencil(!0):r.deltaX<0&&r.deltaX>-m&&this.bigIcon&&this.animatePencil(!1)},onEnd:r=>{e.transition="0.2s ease-out",this.item.nativeElement.classList.remove("rounded"),r.deltaX>m?(e.transform=`translate3d(${n}px, 0, 0)`,this.deleteAnimation.play(),this.deleteAnimation.onFinish(()=>{this.delete.emit(!0)})):r.deltaX<-m?(e.transform=`translate3d(-${n}px, 0, 0)`,this.deleteAnimation.play(),this.deleteAnimation.onFinish(()=>{this.delete.emit(!0)})):e.transform=""}}).enable(!0)}setupIconAnimations(){this.trashAnimation=this.animationCtrl.create("trash-animation").addElement(this.trashIcon.nativeElement).duration(300).easing("ease-in").fromTo("transform","scale(1)","scale(1.5)"),this.pencilAnimation=this.animationCtrl.create("pencil-animation").addElement(this.pencilIcon.nativeElement).duration(300).easing("ease-in").fromTo("transform","scale(1)","scale(1.5)")}animateTrash(e){this.bigIcon=e,e?this.trashAnimation.direction("alternate").play():this.trashAnimation.direction("reverse").play(),v.impact({style:C.y$.Light})}animatePencil(e){this.bigIcon=e,e?this.pencilAnimation.direction("alternate").play():this.pencilAnimation.direction("reverse").play(),v.impact({style:C.y$.Light})}detailsInfoCar(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",cssClass:"modal-imgChat",componentProps:{infoCar:e},component:M})).present()})}updateInfoCar(e){this.navCtrl.navigateForward(["tabs/info-car/update-info-car",this.infoCar.id])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.F0),t.Y36(o.SH),t.Y36(o.IN),t.Y36(o.TH),t.Y36(o.vB))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-swipe-item"]],viewQuery:function(e,n){if(1&e&&(t.Gf(o.Ie,5,t.SBq),t.Gf(S,5),t.Gf(F,5,t.SBq),t.Gf(O,5,t.SBq)),2&e){let a;t.iGM(a=t.CRH())&&(n.item=a.first),t.iGM(a=t.CRH())&&(n.wrapper=a.first),t.iGM(a=t.CRH())&&(n.trashIcon=a.first),t.iGM(a=t.CRH())&&(n.pencilIcon=a.first)}},inputs:{infoCar:"infoCar"},outputs:{delete:"delete"},decls:23,vars:14,consts:[[1,"wrapper"],["wrapper",""],[1,"column"],["md","trash-sharp","color","light",1,"ion-margin-start"],["trash",""],[1,"ion-text-right"],["md","pencil-sharp","color","light",1,"ion-margin-end"],["pencil",""],["lines","none",1,"infoCar"],[1,"ion-align-items-center"],["size","2",1,"ion-align-self-center"],[1,"infoCar-circle",3,"tap"],["size","8"],["color","dark",1,"ion-text-wrap","ion-text-capitalize"],[1,"excerpt"],["size","2"],["tappable","",3,"tap"],[3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2),t._UZ(3,"ion-icon",3,4),t.qZA(),t.TgZ(5,"div",5),t._UZ(6,"ion-icon",6,7),t.qZA()(),t.TgZ(8,"ion-item",8)(9,"ion-row",9)(10,"ion-col",10)(11,"div",11),t.NdJ("tap",function(){return n.detailsInfoCar(n.infoCar)}),t._uU(12),t.ALo(13,"slice"),t.qZA()(),t.TgZ(14,"ion-col",12)(15,"ion-label",13),t._uU(16),t.TgZ(17,"p",14),t._uU(18),t.ALo(19,"slice"),t.qZA()()(),t.TgZ(20,"ion-col",15)(21,"ion-avatar",16),t.NdJ("tap",function(){return n.updateInfoCar(n.infoCar.id)}),t._UZ(22,"img",17),t.qZA()()()()),2&e&&(t.xp6(11),t.Udp("background",n.infoCar.color),t.xp6(1),t.hij(" ",t.Dn7(13,6,n.infoCar.title,0,1)," "),t.xp6(4),t.hij(" ",n.infoCar.title.split("@")[0]," "),t.xp6(2),t.hij(" ",n.infoCar.description.length>50?t.Dn7(19,10,n.infoCar.description,0,50)+"...":n.infoCar.description," "),t.xp6(4),t.s9C("src",n.infoCar.img,t.LSH))},dependencies:[o.BJ,o.wI,o.gu,o.Ie,o.Q$,o.Nd,c.OU],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#3880ff;display:flex;flex-direction:row;align-items:center;width:100%;height:89px;position:absolute}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.rounded[_ngcontent-%COMP%]{border-radius:10px;z-index:2;box-shadow:0 6px 13px -5px rgba(0,0,0,.28)}ion-item[_ngcontent-%COMP%]{height:89px;background:#fff;display:flex}.infoCar[_ngcontent-%COMP%]   .excerpt[_ngcontent-%COMP%]{padding-top:4px}.infoCar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:small}.infoCar-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-transform:capitalize;font-weight:500}ion-avatar[_ngcontent-%COMP%]{width:40px;height:40px}"]}),i})();var h=(()=>{return(i=h||(h={}))[i.UP=1]="UP",i[i.DOWN=0]="DOWN",h;var i})();let Y=(()=>{class i{constructor(e,n){this.renderer=e,this.domCtrl=n,this.scrollDistance=50,this.previousY=0,this.direction=h.DOWN,this.saveY=0}onContentScroll(e){if(e.detail.currentY<=0||e.detail.currentY==this.saveY)return;const n=e.detail.scrollTop;let a=h.DOWN,r=-n+this.previousY;this.saveY>e.detail.currentY&&(a=h.UP,r-=this.scrollDistance),r<-this.scrollDistance&&(r=-this.scrollDistance);let d=1-r/-this.scrollDistance;this.domCtrl.write(()=>{this.renderer.setStyle(this.header,"top",Math.min(0,r)+"px"),this.renderer.setStyle(this.header,"opacity",d)}),this.saveY=e.detail.currentY,a!=this.direction&&(this.direction=a,this.previousY=n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(o.Cb))},i.\u0275dir=t.lG2({type:i,selectors:[["","appHideHeader",""]],hostBindings:function(e,n){1&e&&t.NdJ("ionScroll",function(r){return n.onContentScroll(r)})},inputs:{header:["appHideHeader","header"]}}),i})(),D=(()=>{class i{constructor(e){this.animationCtrl=e,this.expanded=!0}ngAfterViewInit(){this.fab=this.fab.el,this.setupAnimation()}setupAnimation(){const e=this.fab.querySelector("span"),n=this.animationCtrl.create("shrink").addElement(this.fab).duration(400).fromTo("width","140px","50px"),a=this.animationCtrl.create("fade").addElement(e).duration(400).fromTo("opacity",1,0).fromTo("width","70px","0px");this.shrinkAnimation=this.animationCtrl.create("shrink-animation").duration(400).easing("ease-out").addAnimation([n,a])}onContentScroll(e){e.detail.deltaY>0&&this.expanded?(this.expanded=!1,this.shrinkFab()):e.detail.deltaY<0&&!this.expanded&&(this.expanded=!0,this.expandFab())}expandFab(){this.shrinkAnimation.direction("reverse").play()}shrinkFab(){this.shrinkAnimation.direction("alternate").play()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(o.vB))},i.\u0275dir=t.lG2({type:i,selectors:[["","appAnimatedFab",""]],hostBindings:function(e,n){1&e&&t.NdJ("ionScroll",function(r){return n.onContentScroll(r)})},inputs:{fab:["appAnimatedFab","fab"]}}),i})();function N(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ion-chip",14),t.NdJ("tap",function(){const r=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.openAccount(r))}),t.TgZ(1,"ion-avatar"),t._UZ(2,"ion-img",17),t.qZA(),t.TgZ(3,"ion-label",1)(4,"b"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"b"),t._uU(8),t.ALo(9,"date"),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.s9C("src",e.avatar),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(t.xi3(9,3,e.created,"short"))}}function G(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-swipe-item",18),t.NdJ("delete",function(){const r=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteInfoCar(r.id))}),t.qZA()}2&i&&t.Q6J("infoCar",s.$implicit)}const J=[{path:"",component:(()=>{class i{constructor(e,n,a,r,d,X,Q,W,L,q){this.router=e,this.datepipe=n,this.navCtrl=a,this.modalCtrl=r,this.alertCtrl=d,this.popoverCtrl=X,this.uiService=Q,this.userService=W,this.infoCarService=L,this.changeDetector=q,this.usuarios=[]}ngOnInit(){this.loadUsers(),this.loadInfoCars()}doRefresh(e){setTimeout(()=>{e.target.complete()},2e3)}menu(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.popoverCtrl.create({mode:"md",event:e,backdropDismiss:!0,component:x.M})).present()})}loadUsers(){this.userService.getUsers().subscribe(e=>{console.log(e),this.usuarios=e})}openAccount(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({mode:"md",backdropDismiss:!0,cssClass:"modal-accountDetail",componentProps:{user:e},component:A.o})).present()})}loadInfoCars(){this.infoCarService.getInfoCars().subscribe(e=>{this.infoCars=e.map(n=>(n.color=this.intToRGB(this.hashCode(n.title)),n)),console.log(this.infoCars)},e=>{console.log(e)})}hashCode(e){for(var n=0,a=0;a<e.length;a++)n=e.charCodeAt(a)+((n<<5)-n);return n}intToRGB(e){var n=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n}deleteInfoCar(e){this.infoCarService.deleteInfoCar(e).subscribe(n=>{this.loadInfoCars(),this.changeDetector.detectChanges()})}addInfoCar(){this.navCtrl.navigateForward("tabs/info-car/add-info-car")}searchInfoCar(){this.navCtrl.navigateForward("tabs/info-car/search")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.F0),t.Y36(c.uU),t.Y36(o.SH),t.Y36(o.IN),t.Y36(o.Br),t.Y36(o.Dh),t.Y36(y.F),t.Y36(w.K),t.Y36(T.B),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-info-car"]],decls:22,vars:4,consts:[["scrollEvents","true",3,"appHideHeader","appAnimatedFab"],["color","light"],["search",""],[3,"tap",4,"ngFor","ngForOf"],["slot","end"],["fill","clear",3,"tap"],["md","search-sharp","slot","icon-only","color","dark"],["md","ellipsis-vertical-sharp","slot","icon-only","color","dark"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","crescent"],[1,"ion-text-center"],[1,"labelHeader"],[3,"infoCar","delete",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"tap"],["fab",""],["md","pencil-sharp","color","light"],[3,"src"],[3,"infoCar","delete"]],template:function(e,n){if(1&e&&(t.TgZ(0,"ion-content",0)(1,"ion-toolbar",1,2),t.YNc(3,N,10,6,"ion-chip",3),t.TgZ(4,"ion-buttons",4)(5,"ion-button",5),t.NdJ("tap",function(){return n.searchInfoCar()}),t._UZ(6,"ion-icon",6),t.qZA(),t.TgZ(7,"ion-button",5),t.NdJ("tap",function(r){return n.menu(r)}),t._UZ(8,"ion-icon",7),t.qZA()()(),t.TgZ(9,"ion-refresher",8),t.NdJ("ionRefresh",function(r){return n.doRefresh(r)}),t._UZ(10,"ion-refresher-content",9),t.qZA(),t.TgZ(11,"ion-list")(12,"ion-list-header",10)(13,"ion-label",11),t._uU(14," Information-Car "),t.qZA()(),t.YNc(15,G,1,1,"app-swipe-item",12),t.qZA(),t.TgZ(16,"ion-fab",13)(17,"ion-fab-button",14,15),t.NdJ("tap",function(){return n.addInfoCar()}),t._UZ(19,"ion-icon",16),t.TgZ(20,"span"),t._uU(21,"AddInfoCar"),t.qZA()()()()),2&e){const a=t.MAs(2),r=t.MAs(18);t.Q6J("appHideHeader",a)("appAnimatedFab",r),t.xp6(3),t.Q6J("ngForOf",n.usuarios),t.xp6(12),t.Q6J("ngForOf",n.infoCars)}},dependencies:[c.sg,o.BJ,o.YG,o.Sm,o.hM,o.W2,o.IJ,o.W4,o.gu,o.Xz,o.Q$,o.q_,o.yh,o.nJ,o.Wo,o.sr,U,Y,D,c.uU],styles:["ion-content[_ngcontent-%COMP%]{--padding-top: 40px}ion-chip[_ngcontent-%COMP%]{--background: #000}ion-refresher[_ngcontent-%COMP%]{margin-top:50px}ion-list[_ngcontent-%COMP%]{margin-top:20px}ion-fab-button[_ngcontent-%COMP%]{width:140px;height:48px;--background: var(--ion-color-primary);--border-radius: 20px;--box-shadow: 5px 12px 30px -8px rgba(0,0,0,.53)}ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-fab-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}ion-fab-button[_ngcontent-%COMP%]::part(native){color:var(--ion-color-primary);font-weight:500;font-size:16px}.labelHeader[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;--color: #000}"]}),i})()}];let B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.Bz.forChild(J),u.Bz]}),i})();var E=l(5642),R=l(8434);let z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[c.uU],imports:[c.ez,f.u5,o.Pc,B,E.K,R.o]}),i})()}}]);