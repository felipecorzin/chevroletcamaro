"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1546],{1546:(U,m,i)=>{i.r(m),i.d(m,{AccountUpdatePageModule:()=>C});var d=i(6895),c=i(433),o=i(5133),p=i(5017),l=i(655),h=i(6388),e=i(4650),g=i(9846),_=i(3071);function v(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("tap",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectPhoto())}),e.qZA()}}function A(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"ion-img",17)(1,"ion-input",9),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.user.avatar=s)}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("src",t.user.avatar),e.xp6(1),e.Q6J("ngModel",t.user.avatar)}}const f=[{path:"",component:(()=>{class n{constructor(t,a,s,r){this.route=t,this.navCtrl=a,this.uiService=s,this.userService=r,this.user={id:"",avatar:"",name:"",phone:"",lat:0,lng:0,age:0,uso:0,active:!0},this.shouldAcive=!0,this.shouldGeolocation=!1}ngOnInit(){this.loadUser(this.route.snapshot.params.id)}regresar(){this.navCtrl.navigateBack("/tabs/account")}loadUser(t){this.userService.getUser(t).subscribe(a=>{this.user=a,console.log(a)})}selectPhoto(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield h.V1.getPhoto({quality:75,width:400,height:400,allowEditing:!1,source:h.oK.Prompt,resultType:h.dk.DataUrl});this.isSelected=!0,this.user.avatar=t.dataUrl})}getLocation(){this.shouldGeolocation&&navigator.geolocation.getCurrentPosition(t=>{this.user.lat=t.coords.latitude,this.user.lng=t.coords.longitude,console.log(this.user.lat,this.user.lng)})}accountUpdate(){this.userService.updateUser(this.user.id,this.user).subscribe(t=>{console.log(t),this.regresar(),this.uiService.presentToast("Updated user")},t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(o.SH),e.Y36(g.F),e.Y36(_.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-update"]],decls:44,vars:8,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["color","light","defaultHref","/tabs/account"],["src","../../../assets/img/logo_small.png",1,"logo-header"],["id","img",3,"tap",4,"ngIf"],["id","avatar",3,"src",4,"ngIf"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],["color","primary",3,"ngModel","ngModelChange"],["expand","block","shape","round",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","img",3,"tap"],["id","avatar",3,"src"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._UZ(5,"img",4),e._uU(6," AccountUpdate "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-list"),e.YNc(9,v,1,0,"div",5),e.YNc(10,A,2,2,"ion-img",6),e.TgZ(11,"ion-item",7)(12,"ion-label",8)(13,"b"),e._uU(14,"Name"),e.qZA()(),e.TgZ(15,"ion-input",9),e.NdJ("ngModelChange",function(r){return a.user.name=r}),e.qZA()(),e.TgZ(16,"ion-item",7)(17,"ion-label",8)(18,"b"),e._uU(19,"Phone"),e.qZA()(),e.TgZ(20,"ion-input",10),e.NdJ("ngModelChange",function(r){return a.user.phone=r}),e.qZA()(),e.TgZ(21,"ion-item",7)(22,"ion-label",8)(23,"b"),e._uU(24,"Age"),e.qZA()(),e.TgZ(25,"ion-input",11),e.NdJ("ngModelChange",function(r){return a.user.age=r}),e.qZA()(),e.TgZ(26,"ion-item",7)(27,"ion-label",8)(28,"b"),e._uU(29,"Years of Use"),e.qZA()(),e.TgZ(30,"ion-input",11),e.NdJ("ngModelChange",function(r){return a.user.uso=r}),e.qZA()(),e.TgZ(31,"ion-item",7)(32,"ion-label")(33,"b"),e._uU(34,"Location User"),e.qZA()(),e.TgZ(35,"ion-toggle",12),e.NdJ("ngModelChange",function(r){return a.shouldGeolocation=r})("ionChange",function(){return a.getLocation()}),e.qZA()(),e.TgZ(36,"ion-item",7)(37,"ion-label")(38,"b"),e._uU(39,"Active?"),e.qZA()(),e.TgZ(40,"ion-toggle",13),e.NdJ("ngModelChange",function(r){return a.user.active=r}),e.qZA()()(),e.TgZ(41,"ion-button",14),e.NdJ("tap",function(){return a.accountUpdate()}),e._uU(42," AccountUpdate "),e._UZ(43,"ion-icon",15),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngIf",!a.isSelected),e.xp6(1),e.Q6J("ngIf",a.isSelected),e.xp6(5),e.Q6J("ngModel",a.user.name),e.xp6(5),e.Q6J("ngModel",a.user.phone),e.xp6(5),e.Q6J("ngModel",a.user.age),e.xp6(5),e.Q6J("ngModel",a.user.uso),e.xp6(5),e.Q6J("ngModel",a.shouldGeolocation),e.xp6(5),e.Q6J("ngModel",a.user.active))},dependencies:[d.O5,c.JJ,c.On,o.oU,o.YG,o.Sm,o.W2,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.q_,o.wd,o.ho,o.sr,o.w,o.as,o.j9,o.cs],styles:["#img[_ngcontent-%COMP%]{background:url(avatar.a873f6944a1bc18a.png);width:100px;height:100px;margin:0 auto}#avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(f),p.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,c.u5,o.Pc,M]}),n})()},9846:(U,m,i)=>{i.d(m,{F:()=>p});var d=i(655),c=i(4650),o=i(5133);let p=(()=>{class l{constructor(e,g){this.alertController=e,this.toastController=g}alertaInformativaLogin(e,g,_){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:e,subHeader:g,message:_,buttons:["OK"]})).present()})}alertaInformativa(e){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:e,buttons:["OK"]})).present()})}presentToast(e){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return l.\u0275fac=function(e){return new(e||l)(c.LFG(o.Br),c.LFG(o.yF))},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);